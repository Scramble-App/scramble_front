(window.webpackJsonpscramble_front=window.webpackJsonpscramble_front||[]).push([[0],{126:function(e,t,a){e.exports={companyLogo:"CompanyPage_companyLogo__1t7cM",datetime:"CompanyPage_datetime__UGoDr"}},158:function(e,t,a){e.exports={logo:"App_logo__2qPv-",header:"App_header__2L3DO"}},215:function(e,t,a){e.exports={textarea:"MyCompany_textarea__dD050"}},216:function(e,t,a){e.exports={logo:"Logo_logo__3IG6m"}},220:function(e,t,a){e.exports=a(436)},225:function(e,t,a){},436:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),o=a.n(c),u=(a(225),a(68)),s=a(26),i=a(69),l=a.n(i),p=a(33),m=a(91),d=a(51),E=a(159),f=a(103),y=a(442),b=a(90),S=a(446),g=a(49),_=a(10),h=a.n(_),O=a(16),v=a(25),w=a.n(v),C=a(99),T=a.n(C),x=a(40),j=Object(x.a)(),P=a(445),k=h.a.mark(N),U=h.a.mark(W),A=h.a.mark(H),D=h.a.mark(Q),I=h.a.mark(M),R=h.a.mark(q),L=h.a.mark(G),F=h.a.mark(B);function N(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.a.get("auth/users/me/");case 3:return e=t.sent,t.next=6,Object(O.c)({type:"FETCH_USER_SUCCESS",payload:e.data});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(O.c)({type:"FETCH_USER_FAILURE"});case 12:case"end":return t.stop()}}),k,null,[[0,8]])}function W(e){var t;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,t.username=t.email,a.next=5,w.a.post("auth/users/",t);case 5:return a.next=7,Object(O.b)(H,{payload:t},"add-company");case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),P.a.error({message:"Something went wrong. Please try again!"});case 12:case"end":return a.stop()}}),U,null,[[1,9]])}function H(e){var t,a,n,r=arguments;return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=r.length>1&&void 0!==r[1]?r[1]:"companies",c.prev=2,t.username=t.email,c.next=6,w.a.post("auth/token/login/",t);case 6:return n=c.sent,T.a.set("token",n.data.auth_token),c.next=10,Object(O.c)({type:"LOGIN_SUCCESS"});case 10:return c.next=12,Object(O.b)(N);case 12:return c.next=14,Object(O.b)(j.push,a);case 14:c.next=21;break;case 16:return c.prev=16,c.t0=c.catch(2),c.next=20,Object(O.c)({type:"LOGIN_FAILURE"});case 20:P.a.error({message:"Something went wrong. Please try again!"});case 21:case"end":return c.stop()}}),A,null,[[2,16]])}function Q(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.post("auth/token/logout/");case 3:return T.a.remove("token"),e.next=6,Object(O.c)({type:"LOGOUT_SUCCESS"});case 6:e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(O.c)({type:"LOGOUT_FAILURE"});case 12:P.a.error({message:"Something went wrong. Please try again!"});case 13:case"end":return e.stop()}}),D,null,[[0,8]])}function M(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)("FETCH_USER_REQUEST",N);case 2:case"end":return e.stop()}}),I)}function q(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)("SIGNUP_REQUEST",W);case 2:case"end":return e.stop()}}),R)}function G(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)("LOGIN_REQUEST",H);case 2:case"end":return e.stop()}}),L)}function B(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)("LOGOUT_REQUEST",Q);case 2:case"end":return e.stop()}}),F)}var V=a(57),Y=a(55);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach((function(t){Object(Y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var z=a(39);function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Z=h.a.mark(re),$=h.a.mark(ce),ee=h.a.mark(oe),te=h.a.mark(ue),ae=h.a.mark(se),ne=h.a.mark(ie);function re(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.a.get("company/");case 3:return e=t.sent,t.next=6,Object(O.c)({type:"FETCH_COMPANIES_SUCCESS",payload:e.data});case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),Z,null,[[0,8]])}function ce(e){var t;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,w.a.post("company/",e.payload);case 3:return t=a.sent,a.next=6,Object(O.c)({type:"FETCH_ADD_COMPANIES_SUCCESS",payload:t.data});case 6:return a.next=8,Object(O.c)({type:"FETCH_USER_REQUEST"});case 8:return a.next=10,Object(O.b)(j.push,"/companies");case 10:a.next=14;break;case 12:a.prev=12,a.t0=a.catch(0);case 14:case"end":return a.stop()}}),$,null,[[0,12]])}function oe(e){var t;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,w.a.get("company/".concat(e.payload.companyId,"/"));case 3:return t=a.sent,a.next=6,Object(O.c)({type:"FETCH_COMPANY_SUCCESS",payload:t.data});case 6:a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}}),ee,null,[[0,8]])}function ue(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)("ADD_COMPANY_REQUEST",ce);case 2:case"end":return e.stop()}}),te)}function se(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)("FETCH_COMPANIES_REQUEST",re);case 2:case"end":return e.stop()}}),ae)}function ie(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)("FETCH_COMPANY_REQUEST",oe);case 2:case"end":return e.stop()}}),ne)}var le=h.a.mark(ye),pe=h.a.mark(be),me=h.a.mark(Se),de=h.a.mark(ge),Ee=h.a.mark(_e),fe=h.a.mark(he);function ye(e){var t,a,n;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=e.resolve,e.reject,r.prev=1,r.next=4,w.a.post("request/",t);case 4:return n=r.sent,a(),r.next=8,Object(O.c)({type:"ADD_WATCHLIST_SUCCESS",payload:n.data});case 8:P.a.success({message:"Your request has been sent!"}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),P.a.error({message:"Something went wrong. Please try again!"});case 14:case"end":return r.stop()}}),le,null,[[1,11]])}function be(e){var t;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,w.a.patch("request/".concat(t.id,"/"),t);case 4:return a.next=6,Object(O.c)({type:"UPDATE_WATCHLIST_SUCCESS",payload:t});case 6:P.a.success({message:"You've successfully ".concat("accepted"===t.status?"accepted":"declined"," request!")}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),P.a.error({message:"Something went wrong. Please try again!"});case 12:case"end":return a.stop()}}),pe,null,[[1,9]])}function Se(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.get("request/");case 2:return e=t.sent,t.next=5,Object(O.c)({type:"GET_WATCHLIST_SUCCESS",payload:e.data});case 5:case"end":return t.stop()}}),me)}function ge(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)("SEND_WATCHLIST_REQUEST_REQUEST",ye);case 2:case"end":return e.stop()}}),de)}function _e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)("GET_WATCHLISTS_REQUEST",Se);case 2:case"end":return e.stop()}}),Ee)}function he(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)("UPDATE_WATCHLIST_REQUEST",be);case 2:case"end":return e.stop()}}),fe)}var Oe=h.a.mark(Te),ve=h.a.mark(xe),we=h.a.mark(je),Ce=h.a.mark(Pe);function Te(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.a.get("/update/");case 3:return e=t.sent,t.next=6,Object(O.c)({type:"FETCH_UPDATES_SUCCESS",payload:e.data});case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),Oe,null,[[0,8]])}function xe(e){var t;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,w.a.post("/update/",e.payload);case 3:return t=a.sent,a.next=6,Object(O.c)({type:"ADD_UPDATE_SUCCESS",payload:t.data});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),ve,null,[[0,8]])}function je(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)("ADD_UPDATE_REQUEST",xe);case 2:case"end":return e.stop()}}),we)}function Pe(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)("FETCH_UPDATES_REQUEST",Te);case 2:case"end":return e.stop()}}),Ce)}var ke=h.a.mark(Le),Ue=h.a.mark(Fe),Ae=h.a.mark(Ne),De=h.a.mark(We),Ie=h.a.mark(He),Re=h.a.mark(Qe);function Le(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.a.post("/swaps/",e.payload);case 3:return t.sent,t.next=6,Object(O.c)({type:"ADD_SWAP_SUCCESS"});case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),ke,null,[[0,8]])}function Fe(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.a.get("/swaps/");case 3:return e=t.sent,t.next=6,Object(O.c)({type:"FETCH_SWAPS_SUCCESS",payload:e.data});case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),Ue,null,[[0,8]])}function Ne(e){var t,a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,w.a.patch("/swaps/".concat(t.id,"/"),t);case 4:return a=n.sent,n.next=7,Object(O.c)({type:"UPDATE_SWAP_SUCCESS",payload:a.data});case 7:n.next=11;break;case 9:n.prev=9,n.t0=n.catch(1);case 11:case"end":return n.stop()}}),Ae,null,[[1,9]])}function We(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)("ADD_SWAP_REQUEST",Le);case 2:case"end":return e.stop()}}),De)}function He(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)("FETCH_SWAPS_REQUEST",Fe);case 2:case"end":return e.stop()}}),Ie)}function Qe(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)("UPDATE_SWAP_REQUEST",Ne);case 2:case"end":return e.stop()}}),Re)}var Me=h.a.mark(Ge),qe=function(e,t){return t};function Ge(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)([M(),q(),G(),se(),ue(),B(),ge(),_e(),he(),Pe(),je(),ie(),We(),He(),Qe()]);case 2:case"end":return e.stop()}}),Me)}var Be=Object(V.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.type,n=t.payload;switch(a){case"FETCH_USER_REQUEST":return X({},e,{isLoading:!0});case"FETCH_USER_SUCCESS":return X({},e,{},n,{isLoading:!1});case"FETCH_USER_FAILURE":return X({},e,{isLoading:!1});case"LOGOUT_SUCCESS":return{isLoading:!1};default:return e}},companies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.type,n=t.payload;return"FETCH_COMPANIES_SUCCESS"===a?n:"FETCH_COMPANY_SUCCESS"===a?[].concat(Object(z.a)(e.filter((function(e){return e.id!==n.id}))),[n]):e},requests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_WATCHLIST_SUCCESS":return n;case"UPDATE_WATCHLIST_SUCCESS":var r=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(a,!0).forEach((function(t){Object(Y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.find((function(e){return e.id===n.id})),{status:n.status}),c=e.filter((function(e){return e.id!==n.id}));return[].concat(Object(z.a)(c),[r]);case"ADD_WATCHLIST_SUCCESS":return[].concat(Object(z.a)(e),[n]);default:return e}},updates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.type,n=t.payload;return"FETCH_UPDATES_SUCCESS"===a?n:"ADD_UPDATE_SUCCESS"===a?[].concat(Object(z.a)(e),[n]):e},swaps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_SWAPS_SUCCESS":return n;case"UPDATE_SWAP_SUCCESS":return[].concat(Object(z.a)(e.filter((function(e){return e.id!==n.id}))),[n]);default:return e}}}),Ve=function(e){return e.user},Ye=function(e){return e.companies},Je=Object(g.a)([Ye,qe],(function(e,t){var a=t.match;return e.find((function(e){return e.id===parseInt(a.params.companyId,10)}))||{}})),Xe=Object(g.a)([Ve],(function(e){return e.company||{}})),ze=Object(p.connect)((function(e){return{companies:Ye(e)}}),null)((function(e){var t=e.dispatch,a=e.companies;return Object(n.useEffect)((function(){t({type:"FETCH_COMPANIES_REQUEST"})}),[]),r.a.createElement(m.a,{gutter:32},r.a.createElement(d.a,{offset:4,span:16},r.a.createElement(E.a,null,r.a.createElement(E.a.TabPane,{tab:"Search",key:1},r.a.createElement("div",{className:l.a.tabContentWrapper},r.a.createElement(m.a,{gutter:32},r.a.createElement(d.a,{span:8},r.a.createElement("h3",null,"Filters"),r.a.createElement(f.a,{mode:"multiple",style:{width:"200px"},placeholder:"Industry"},r.a.createElement(f.a.Option,{key:1},"Aerospace"),r.a.createElement(f.a.Option,{key:2},"Transport"),r.a.createElement(f.a.Option,{key:3},"Computer")),r.a.createElement("div",{className:l.a.filterSliderWrapper},r.a.createElement("p",null,"Annual Turnover"),r.a.createElement(y.a,{range:!0,step:10,defaultValue:[20,50]}),r.a.createElement("p",null,"Company age"),r.a.createElement(y.a,{range:!0,step:1,defaultValue:[1,10],max:10}),r.a.createElement("p",null,"Employees number"),r.a.createElement(y.a,{range:!0,step:10,defaultValue:[1,200],max:1e3}),r.a.createElement(b.a,{type:"default",className:l.a.leftButton}," All"),r.a.createElement(b.a,{type:"default"},"Watchlist"))),r.a.createElement(d.a,{span:16},r.a.createElement("div",{className:l.a.subHeader},r.a.createElement("h2",null,"Companies list")),r.a.createElement("div",{className:l.a.companiesList},a.map((function(e){var t=e.name,a=e.id,n=e.founder;return r.a.createElement(S.a,{key:"".concat(t,"_").concat(a),className:l.a.companyCard},r.a.createElement(s.a,{to:"/companies/".concat(a)},t),n.trim().length>0&&r.a.createElement("p",{className:l.a.founder},"Founder: ",n))}))))))),r.a.createElement(E.a.TabPane,{tab:"Power BI",key:2},r.a.createElement("iframe",{title:"Power BI data",width:"100%",height:"541.25",src:"https://app.powerbi.com/reportEmbed?reportId=e9c0bf82-f997-42b2-8fb6-db78a15b46ce&autoAuth=true&ctid=dd0bea93-74d1-4e09-bf5f-8d90c0308096&config=eyJjbHVzdGVyVXJsIjoiaHR0cHM6Ly93YWJpLXVzLWVhc3QyLWItcHJpbWFyeS1yZWRpcmVjdC5hbmFseXNpcy53aW5kb3dzLm5ldC8ifQ%3D%3D",frameBorder:"0",allowFullScreen:"true"})))))})),Ke=a(207),Ze=a(126),$e=a.n(Ze),et=a(439);function tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function at(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tt(a,!0).forEach((function(t){Object(Y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var nt=function(e){return e.requests},rt=Object(g.a)([nt,Ye,Xe],(function(e,t,a){return e.filter((function(e){return e.sender===a.id})).map((function(e){return at({},e,{sender:t.find((function(t){return t.id===e.sender})),target:t.find((function(t){return t.id===e.target}))})}))})),ct=Object(g.a)([nt,Ye,Xe],(function(e,t,a){return e.filter((function(e){return e.target===a.id})).map((function(e){return at({},e,{sender:t.find((function(t){return t.id===e.sender})),target:t.find((function(t){return t.id===e.target}))})}))})),ot=Object(g.a)([rt,qe],(function(e,t){var a=t.match;return e.find((function(e){return e.target.id===parseInt(a.params.id)}))})),ut=Object(p.connect)((function(e,t){return{company:Je(e,t),ownCompany:Xe(e),outcomeRequest:ot(e,t)}}),null)((function(e){var t=e.company,a=e.ownCompany,c=e.dispatch,o=e.outcomeRequest,u=e.match;Object(n.useEffect)((function(){c({type:"GET_WATCHLISTS_REQUEST"}),c({type:"FETCH_COMPANY_REQUEST",payload:{companyId:u.params.companyId}}),console.log(u)}),[]);var s=function(){var e=Object(Ke.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){c({type:"SEND_WATCHLIST_REQUEST_REQUEST",payload:{target:t.id,sender:a.id},resolve:e})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(m.a,{className:$e.a.companyPage},r.a.createElement(d.a,{offset:4,span:14},r.a.createElement("h2",null,t.name),t.description&&r.a.createElement("p",null,t.description),r.a.createElement("div",null,t.updates&&t.updates.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Monthly updates:"),r.a.createElement(et.a,{pagination:!1,size:"middle",columns:[{title:"Update",dataIndex:"text",key:"text"},{title:"Date",dataIndex:"created_at",key:"created_at",render:function(e){return r.a.createElement("p",{className:$e.a.datetime},new Date(e).toDateString())}}],dataSource:t.updates})))),r.a.createElement(d.a,{span:2},t.logo_url&&r.a.createElement("img",{className:$e.a.companyLogo,src:t.logo_url,alt:"Logo"}),r.a.createElement("div",null,!o&&r.a.createElement(b.a,{onClick:s},"Add to watchlist"),r.a.createElement(b.a,{onClick:function(){return c({type:"ADD_SWAP_REQUEST",payload:{target:parseInt(u.params.companyId,10)}})}},"Send swap"))))})),st=a(52),it=a.n(st),lt=a(441);function pt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function mt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pt(a,!0).forEach((function(t){Object(Y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var dt=function(e){return e.swaps.map((function(e){return mt({},e,{type:"swap"})}))},Et=Object(g.a)([dt,Ye,Xe],(function(e,t,a){return e.filter((function(e){return e.sender===a.id})).map((function(e){return mt({},e,{sender:t.find((function(t){return t.id===e.sender})),target:t.find((function(t){return t.id===e.target}))})}))})),ft=Object(g.a)([dt,Ye,Xe],(function(e,t,a){return e.filter((function(e){return e.target===a.id})).map((function(e){return mt({},e,{sender:t.find((function(t){return t.id===e.sender})),target:t.find((function(t){return t.id===e.target}))})}))})),yt=Object(g.a)([Xe,Ye],(function(e,t){return e.fundraising[0].swaps.map((function(e){return mt({},e,{sender:t.find((function(t){return t.id===e.sender}))||{},target:t.find((function(t){return t.id===e.target}))||{}})}))})),bt=Object(p.connect)((function(e){return{user:Ve(e),swaps:yt(e)}}),null)((function(e){var t=e.dispatch,a=e.user,c=e.swaps;return Object(n.useEffect)((function(){t({type:"FETCH_COMPANIES_REQUEST"})}),[]),r.a.createElement(m.a,null,console.log(a.company),r.a.createElement(d.a,{offset:4,span:16},r.a.createElement(E.a,null,r.a.createElement(E.a.TabPane,{tab:"Active",key:1},r.a.createElement("div",{className:it.a.fundraisingPageWrapper},r.a.createElement("div",null,a.company.fundraising.map((function(e){return r.a.createElement(r.a.Fragment,null,console.log(e.raise_limit/e.raised),r.a.createElement("h2",null,new Date(e.start_date).toDateString()," ~ ",new Date(e.end_date).toDateString()),r.a.createElement("h3",{className:it.a.totalAmountHeader},"Total to raise: ",r.a.createElement("span",{className:it.a.totalAmount},"$",e.raise_limit)),r.a.createElement("div",{className:it.a.progressBarWrapper},r.a.createElement(lt.a,{type:"circle",format:function(){return r.a.createElement("div",{className:it.a.progressBarText},"$",e.raised,r.a.createElement("br",null),"of ",r.a.createElement("span",null,"$",e.raise_limit))},percent:e.raise_limit/100*e.raised,width:200})),r.a.createElement("h3",{className:it.a.swapsHeader},"Minimum swaps amount: ",e.min_swaps_amount),r.a.createElement("div",{className:it.a.swapsCommonWrapper},r.a.createElement("div",{className:it.a.swapsWrapper},r.a.createElement("h3",null,"Successful swaps"),c.filter((function(e){return"accepted"===e.status})).map((function(e){return e.sender.id===a.company.id?r.a.createElement("div",null,r.a.createElement(s.a,null,e.target.name)):r.a.createElement("div",null,r.a.createElement(s.a,null,e.sender.name))}))),r.a.createElement("div",{className:it.a.swapsWrapper},r.a.createElement("h3",null,"Rejected swaps"),c.filter((function(e){return"declined"===e.status})).map((function(e){return e.sender.id===a.company.id?r.a.createElement(s.a,null,e.target.name):r.a.createElement(s.a,null,e.sender.name)})))))}))))),r.a.createElement(E.a.TabPane,{tab:"Past",key:2},r.a.createElement("div",{className:it.a.fundraisingPageWrapper},"Past")))))})),St=a(87),gt=a(437),_t=Object(p.connect)((function(e){return{outcomeRequests:rt(e),incomeRequests:ct(e),outcomeSwaps:Et(e),incomeSwaps:ft(e)}}),null)((function(e){var t=e.outcomeRequests,a=e.incomeRequests,c=e.dispatch,o=e.incomeSwaps,u=e.outcomeSwaps;Object(n.useEffect)((function(){c({type:"FETCH_COMPANIES_REQUEST"}),c({type:"GET_WATCHLISTS_REQUEST"}),c({type:"FETCH_SWAPS_REQUEST"})}),[]);var i=[].concat(Object(z.a)(a),Object(z.a)(o)),l=[].concat(Object(z.a)(t),Object(z.a)(u));return r.a.createElement(m.a,null,r.a.createElement(d.a,{offset:4,span:4},r.a.createElement("h3",null,"Filters:"),r.a.createElement(St.a,{defaultChecked:!0,onChange:function(e){return"checked = ".concat(e.target.checked)}},"Watch list"),r.a.createElement(St.a,{defaultChecked:!0,onChange:function(e){return"checked = ".concat(e.target.checked)}},"Swaps")),r.a.createElement(d.a,{offset:1,span:11},r.a.createElement(E.a,null,r.a.createElement(E.a.TabPane,{tab:"Income",key:2},r.a.createElement(et.a,{columns:[{title:"Sender",dataIndex:"sender",key:"sender",render:function(e){return r.a.createElement(s.a,{to:"/companies/".concat(e.id)},e.name)}},{title:"Type",dataIndex:"type",key:"type"},{title:"Date",dataIndex:"date",key:"date"},{title:"Status",dataIndex:"status",key:"status"},{title:"Founder",dataIndex:"founder",key:"founder"},{title:"Action",key:"action",render:function(e,t){return r.a.createElement(r.a.Fragment,null,"pending"===t.status&&r.a.createElement("span",null,"watchlist"===t.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{onClick:function(){return c({type:"UPDATE_WATCHLIST_REQUEST",payload:{status:"accepted",id:t.id}})}},"Accept"),r.a.createElement(gt.a,{type:"vertical"}),r.a.createElement(b.a,{onClick:function(){return c({type:"UPDATE_WATCHLIST_REQUEST",payload:{status:"declined",id:t.id}})}},"Decline")):r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{onClick:function(){return c({type:"UPDATE_SWAP_REQUEST",payload:{status:"accepted",id:t.id}})}},"Accept"),r.a.createElement(gt.a,{type:"vertical"}),r.a.createElement(b.a,{onClick:function(){return c({type:"UPDATE_SWAP_REQUEST",payload:{status:"declined",id:t.id}})}},"Decline"))))}}],dataSource:i})),r.a.createElement(E.a.TabPane,{tab:"Outcome",key:1},r.a.createElement(et.a,{columns:[{title:"Target",dataIndex:"target",key:"target",render:function(e){return r.a.createElement(s.a,{to:"/companies/".concat(e.id)},e.name)}},{title:"Type",dataIndex:"type",key:"type"},{title:"Date",dataIndex:"date",key:"date"},{title:"Status",dataIndex:"status",key:"status"}],dataSource:l})))))})),ht=a(48),Ot=a(444),vt=a(440),wt=a(66),Ct=a.n(wt),Tt=a(443),xt=a(13),jt=function(e){var t=e.name,a=e.placeholder,n=e.icon,c=e.type,o=void 0===c?"text":c;return r.a.createElement(ht.a,{name:t,render:function(e){var t=e.input;return r.a.createElement(Tt.a,Object.assign({},t,{prefix:n?r.a.createElement(xt.a,{type:n,style:{color:"rgba(0,0,0,.25)"}}):r.a.createElement("span",null),placeholder:a}))},type:o})},Pt=function(e){var t=e.onSignupFormSubmit;return r.a.createElement(Ot.a,{title:"Please, sign up",className:Ct.a.formWrapper},r.a.createElement(ht.b,{onSubmit:t,render:function(e){var t=e.handleSubmit;return r.a.createElement(vt.a,{onSubmit:t},r.a.createElement(vt.a.Item,null,r.a.createElement(jt,{type:"email",name:"email",placeholder:"Email",icon:"mail"})),r.a.createElement(vt.a.Item,null,r.a.createElement(jt,{type:"password",name:"password",placeholder:"Password",icon:"lock"})),r.a.createElement(vt.a.Item,null,r.a.createElement(jt,{type:"text",name:"first_name",placeholder:"First Name"})),r.a.createElement(vt.a.Item,null,r.a.createElement(jt,{type:"text",name:"last_name",placeholder:"Last Name"})),r.a.createElement(vt.a.Item,null,r.a.createElement(b.a,{type:"primary",htmlType:"submit"},"Sign up"),r.a.createElement("span",{className:Ct.a.or},"or"),r.a.createElement(s.a,{to:"/login"},"login")))}}))},kt=function(e){var t=e.onAddCompanyFormSubmit;return r.a.createElement(Ot.a,{title:"Add your company information ",className:Ct.a.formWrapper},r.a.createElement(ht.b,{onSubmit:t,render:function(e){var t=e.handleSubmit;return r.a.createElement(vt.a,{onSubmit:t},r.a.createElement(vt.a.Item,null,r.a.createElement(jt,{name:"name",placeholder:"Company name"})),r.a.createElement(vt.a.Item,null,r.a.createElement(jt,{name:"description",placeholder:"Company description"})),r.a.createElement(vt.a.Item,null,r.a.createElement(jt,{name:"logo_url",placeholder:"Logo URL"})),r.a.createElement(vt.a.Item,null,r.a.createElement(b.a,{type:"primary",htmlType:"submit"},"Send")))}}))},Ut=a(104);function At(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Dt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?At(a,!0).forEach((function(t){Object(Y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):At(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var It=Object(Ut.connectedRouterRedirect)(Dt({},{authenticatedSelector:function(e){return!!e.user.id},authenticatingSelector:function(e){return!!e.user.isLoading}},{redirectPath:"/login"})),Rt=Object(Ut.connectedRouterRedirect)(Dt({},{authenticatedSelector:function(e){return!e.user.id&&!e.user.isLoading},authenticatingSelector:function(e){return!!e.user.isLoading}},{redirectPath:"/companies"})),Lt=Object(Ut.connectedRouterRedirect)(Dt({},{authenticatedSelector:function(e){return!e.user.company&&!e.user.isLoading},authenticatingSelector:function(e){return!!e.user.isLoading}},{redirectPath:"/companies"})),Ft=Object(Ut.connectedRouterRedirect)(Dt({},{authenticatedSelector:function(e){return!!e.user.company},authenticatingSelector:function(e){return!!e.user.isLoading}},{redirectPath:"/add-company"})),Nt=function(e){var t=e.onLoginFormSubmit;return r.a.createElement(Ot.a,{title:"Login to start",className:Ct.a.formWrapper},r.a.createElement(ht.b,{onSubmit:t,render:function(e){var t=e.handleSubmit;return r.a.createElement(vt.a,{onSubmit:t},r.a.createElement(vt.a.Item,null,r.a.createElement(jt,{type:"email",name:"email",placeholder:"Email",icon:"mail"})),r.a.createElement(vt.a.Item,null,r.a.createElement(jt,{type:"password",name:"password",placeholder:"Password",icon:"lock"})),r.a.createElement(vt.a.Item,null,r.a.createElement(b.a,{type:"primary",htmlType:"submit"},"Log in"),r.a.createElement("span",{className:Ct.a.or},"or"),r.a.createElement(s.a,{to:"/signup"},"sign up")))}}))},Wt=Object(p.connect)((function(e){return{user:Ve(e)}}),null)((function(e){var t=e.user,a=e.dispatch;return r.a.createElement(m.a,null,r.a.createElement(d.a,{span:12,offset:4},r.a.createElement("h2",null,"My account"),r.a.createElement("p",null,"Email: ",t.email),r.a.createElement("p",null,"Full name: ",t.first_name," ",t.last_name),r.a.createElement(b.a,{onClick:function(){return a({type:"LOGOUT_REQUEST"})}},"Log out")))})),Ht=a(215),Qt=a.n(Ht),Mt=function(e){return e.updates},qt=Object(p.connect)((function(e){return{company:Xe(e),updates:Mt(e)}}),null)((function(e){var t=e.company,a=e.dispatch,c=e.updates,o=e.onMyCompanyFormSubmit;return Object(n.useEffect)((function(){a({type:"FETCH_COMPANIES_REQUEST"}),a({type:"FETCH_UPDATES_REQUEST"})}),[]),r.a.createElement(m.a,null,r.a.createElement(d.a,{offset:4,span:16},r.a.createElement(E.a,{defaultActiveKey:"updates"},r.a.createElement(E.a.TabPane,{key:"info",tab:"Info"},r.a.createElement("h2",null,"Company info"),r.a.createElement("div",null,t.name)),r.a.createElement(E.a.TabPane,{key:"powerbi",tab:"Power BI"},r.a.createElement("iframe",{title:"company PowerBI",width:"100%",height:"541.25",src:"https://app.powerbi.com/reportEmbed?reportId=034bdd15-a2b0-4223-a375-26f6d9320a59&autoAuth=true&ctid=dd0bea93-74d1-4e09-bf5f-8d90c0308096&config=eyJjbHVzdGVyVXJsIjoiaHR0cHM6Ly93YWJpLXVzLWVhc3QyLWItcHJpbWFyeS1yZWRpcmVjdC5hbmFseXNpcy53aW5kb3dzLm5ldC8ifQ%3D%3D",frameBorder:"0",allowFullScreen:"true"})),r.a.createElement(E.a.TabPane,{key:"updates",tab:"Updates"},r.a.createElement("div",null,r.a.createElement("h2",null,"Add company update"),r.a.createElement(ht.b,{onSubmit:o,render:function(e){var t=e.handleSubmit;return r.a.createElement(vt.a,{onSubmit:t},r.a.createElement(ht.a,{name:"text",component:"textarea",className:Qt.a.textarea}),r.a.createElement("br",null),r.a.createElement(b.a,{type:"primary",htmlType:"submit"},"Add"))}})),r.a.createElement("br",null),r.a.createElement("h2",null,"Your company's updates"),r.a.createElement(et.a,{columns:[{title:"Update",dataIndex:"text",key:"update"},{title:"Date",dataIndex:"created_at",key:"date",render:function(e){return r.a.createElement("span",null,new Date(e).toDateString())}}],dataSource:c})))))})),Gt=a(438),Bt=a(158),Vt=a.n(Bt),Yt=a(89),Jt=a(447),Xt=a(77),zt=a.n(Xt),Kt=Object(u.g)((function(e){var t=e.location;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Yt.a,{mode:"horizontal",theme:"dark",selectedKeys:[t.pathname],className:zt.a.menu,style:{lineHeight:"64px",background:"#ffd200"}},r.a.createElement(Yt.a.Item,{key:"/companies"},r.a.createElement(s.a,{className:zt.a.link,to:"/companies"},"Companies")),r.a.createElement(Yt.a.Item,{key:"/requests"},r.a.createElement(s.a,{className:zt.a.link,to:"/requests"},"Requests")),r.a.createElement(Yt.a.Item,{key:"/my-company"},r.a.createElement(s.a,{className:zt.a.link,to:"/my-company"},"My Company")),r.a.createElement(Yt.a.Item,{key:"/account"},r.a.createElement(s.a,{className:zt.a.link,to:"/account"},"My Account")),r.a.createElement(Yt.a.Item,{key:"/fundraising"},r.a.createElement(s.a,{className:zt.a.link,to:"/fundraising"},"Fundraising")),r.a.createElement(Yt.a.Item,{key:4},r.a.createElement(Jt.a,{count:1,dot:!0},r.a.createElement(xt.a,{type:"notification"})))))})),Zt=a(216),$t=a.n(Zt),ea=function(){return r.a.createElement("div",{className:$t.a.logo})};var ta=Object(p.connect)((function(e){return{user:Ve(e)}}),null)((function(e){var t=e.dispatch,a=e.user;Object(n.useEffect)((function(){t({type:"FETCH_USER_REQUEST"}),t({type:"FETCH_WATCHLIST_REQUESTS_REQUEST"})}),[]);var c=function(e){t({type:"SIGNUP_REQUEST",payload:e})},o=function(e){t({type:"LOGIN_REQUEST",payload:e})},i=function(e){t({type:"ADD_COMPANY_REQUEST",payload:e})},l=function(e){t({type:"ADD_UPDATE_REQUEST",payload:e})};return r.a.createElement(u.c,{history:j},r.a.createElement(Gt.a,null,r.a.createElement(Gt.a.Header,{className:Vt.a.header},r.a.createElement(m.a,{type:"flex",align:"middle",style:{height:"100%"}},r.a.createElement(d.a,{span:4,offset:3},r.a.createElement("div",{className:Vt.a.logo},r.a.createElement(s.a,{to:"/"},r.a.createElement(ea,null)))),r.a.createElement(d.a,{span:11,push:3},a.id&&r.a.createElement(Kt,null)))),r.a.createElement(Gt.a.Content,null,r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/signup",component:Rt((function(e){return r.a.createElement(Pt,Object.assign({onSignupFormSubmit:c},e))}))}),r.a.createElement(u.b,{path:"/login",component:Rt((function(e){return r.a.createElement(Nt,Object.assign({onLoginFormSubmit:o},e))}))}),r.a.createElement(u.b,{path:"/companies",exact:!0,component:It(Ft(ze))}),r.a.createElement(u.b,{path:"/companies/:companyId",component:It(Ft(ut))}),r.a.createElement(u.b,{path:"/fundraising",component:It(Ft(bt))}),r.a.createElement(u.b,{path:"/requests",component:It(Ft(_t))}),r.a.createElement(u.b,{path:"/add-company",component:It(Lt((function(e){return r.a.createElement(kt,Object.assign({onAddCompanyFormSubmit:i},e))})))}),r.a.createElement(u.b,{path:"/account",component:It(Wt)}),r.a.createElement(u.b,{path:"/my-company",component:It(Ft((function(e){return r.a.createElement(qt,Object.assign({onMyCompanyFormSubmit:l},e))})))}),r.a.createElement(u.a,{to:"/login"})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var aa=a(217),na=Object(aa.a)(),ra=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):V.d)(Object(V.a)(na)),ca=Object(V.e)(Be,ra);na.run(Ge);var oa=ca;a(435);w.a.defaults.baseURL="/api/",w.a.interceptors.request.use((function(e){var t=T.a.get("token");return t&&(e.headers.Authorization="Token ".concat(t)),e})),w.a.interceptors.request.use((function(e){return"/"!==e.url.charAt(e.url.length-1)&&console.warn("Don`t forget about mandatory trailing slash!"),e})),o.a.render(r.a.createElement(p.Provider,{store:oa},r.a.createElement(ta,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},52:function(e,t,a){e.exports={fundraisingPage:"FundraisingPage_fundraisingPage__cmlk0",fundraisingPageWrapper:"FundraisingPage_fundraisingPageWrapper__2rU6w",totalAmountHeader:"FundraisingPage_totalAmountHeader__2UGuM",progressBarWrapper:"FundraisingPage_progressBarWrapper__1P4NS",totalAmount:"FundraisingPage_totalAmount__3ZwUK",swapsHeader:"FundraisingPage_swapsHeader__1eMUz",swapsCommonWrapper:"FundraisingPage_swapsCommonWrapper__s3yal",progressBarText:"FundraisingPage_progressBarText__1tAeY"}},66:function(e,t,a){e.exports={or:"Login_or__3XeKI",formWrapper:"Login_formWrapper__3uxRY"}},69:function(e,t,a){e.exports={wrapper:"CompaniesList_wrapper__2ansE",subHeader:"CompaniesList_subHeader__FbC21",companiesList:"CompaniesList_companiesList__CnJ_q",founder:"CompaniesList_founder__1ecxy",tabContentWrapper:"CompaniesList_tabContentWrapper__2RDQC",filterSliderWrapper:"CompaniesList_filterSliderWrapper__E8ZcY",leftButton:"CompaniesList_leftButton__33UdP"}},77:function(e,t,a){}},[[220,1,2]]]);
//# sourceMappingURL=main.6c9392d2.chunk.js.map